一，分析器
1.接受请求
2.验证用户白名单及是否过期用户
3.验证SQL类型，除了update,insert,delete,其他类型的SQL不允许执行
4.验证SQL长度(单条SQL和多条SQL方式是否考虑不一样)
4.是否关联更新，是否允许关联更新
5.是否允许多条SQL的执行，允许的话,SQL条数的限制
6.对于SQL格式上的错误，是考虑在分析层报错？还是传递给数据库层，由数据库返回错误？
7.explain SQL扫描行数不能超过10000
8.对于允许范围内的SQL type(insert,delete,update),其行为模式可以通过接口实现的方式分别定义

二，执行器
1.SQL执行
2.执行器本身不区别是哪个环境，由传递的参数决定
3.返回执行结果(正常及异常结果)

三.回退恢复功能
1.更新删除前先，先把每一行的原纪录以json的格式保存
2.执行完成后，生成回退recovery SQL
3.原纪录及回退SQL放在单个回退文件中
4.每次执行都当成一个服务层面的事务，生成一个回退文件
5.以table_name,db_name及当前的unixtime生成一个回退 recovery_id，回退ID可作为回退文件的表名